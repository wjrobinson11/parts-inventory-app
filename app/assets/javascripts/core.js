var Core=function(){function f(n){return typeof Node=="object"?n instanceof Node:typeof n=="object"&&typeof n.nodeType=="number"&&typeof n.nodeName=="string"}var i={widgetWrapperElement:"div",prefixOnWidgetId:"core-"},t=!1,n={},r={},e=function(i,r,u){if(i=i||"",r=r||function(){},u=u||function(){},typeof n[i]=="undefined")n[i]={name:i,onLoad:r,onUnload:u,loaded:!1};else if(t)throw new Error('Core extend() error: the extension "'+i+'" already exists');return this},o=function(r,u,e){if(r=r||"",u=u||"",typeof u=="object"&&f(u)&&(e=u),typeof n[r]!="undefined"){if(n[r].loaded==!1){if(e){var o=document.createElement(i.widgetWrapperElement);o.setAttribute("id",i.prefixOnWidgetId+r);e.appendChild(o)}n[r].loaded=!0;n[r].onLoad.call(o,u)}else if(t)throw new Error('Core load() error: the extension "'+r+'" is already loaded');}else if(t)throw new Error('Core load() error: the extension "'+r+"\" doesn't exist");return this},u=function(r,u){if(r=r||"",u=u||"",typeof n[r]!="undefined"){var f=document.getElementById(i.prefixOnWidgetId+r),e=f.parentNode;e.removeChild(f);n[r].onUnload.call(f,u);delete n[r]}else if(t)throw new Error('Core remove() error: the extension "'+r+"\" doesn't exist");},s=function(i,r){if(i=i||"",r=r||"",typeof n[i]!="undefined"){var f=n[i];f.loaded=!1;u(i,r);n[i]=f}else if(t)throw new Error('Core unload() error: the extension "'+i+"\" doesn't exist");return this},h=function(n,i){if(n=n||"",i=i||"",typeof r[n]!="undefined")r[n].call(this,i);else if(t)throw new Error('Core push() error: the extension "'+n+"\" doesn't exist");},c=function(n,t){n=n||"";t=t||function(){};r[n]=t};return{extend:e,load:o,remove:u,unload:s,push:h,listen:c}}()